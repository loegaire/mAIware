<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mAIware AI Malware Detection Demo</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body> <!-- Removed 'main-grid' class -->

    <nav class="top-nav">
        <div class="logo">
            <i class="fas fa-shield-virus"></i>
            <span>mAIware</span>
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link" data-tooltip="Login">
                <i class="fas fa-sign-in-alt"></i>
                <span class="link-text">Login</span>
            </a>
            <a href="#" class="nav-link" data-tooltip="Sign Up">
                <i class="fas fa-user-plus"></i>
                <span class="link-text">Sign Up</span>
            </a>
            <a href="#" class="nav-link" data-tooltip="Community">
                <i class="fas fa-users"></i>
                <span class="link-text">Community</span>
            </a>
            <a href="#" class="nav-link" data-tooltip="API Docs">
                <i class="fas fa-code"></i>
                <span class="link-text">API</span>
            </a>
            <a href="#" id="history-btn" class="nav-link" data-tooltip="Scan History">
                <i class="fas fa-history"></i>
                <span class="link-text">History</span>
            </a>
        </div>
    </nav>

    <!-- NEW: Main container for grid layout -->
    <main class="main-container">
        <!-- Scanner Column -->
        <div class="scanner-wrapper">
            
            <!-- Main Scanner Box -->
            <div class="scanner-container">
                <h1>AI Malware Detection</h1>
                
                <!-- State 1: Upload -->
                <!-- <div id="initial-state" class="scanner-state active">
                    <p>Upload a file to scan for threats.</p>
                    <div id="drop-zone" class="upload-zone" onclick="startDemoScan()">
                        <i class="upload-icon fas fa-file-upload"></i>
                        <h3>Click to Upload File</h3>
                        <span>(This will start a demo)</span>
                    </div>
                </div> -->

                <!--TRANG TEST-->

                <div id="initial-state" class="scanner-state active"> <p>Watching your Downloads folder for new files...</p>
                    <div id="drop-zone" class="upload-zone" > <i class="upload-icon fas fa-eye"></i> <h3>Automatic Scanning Active</h3>
                        <span>(Download a file to begin)</span>
                    </div>
                </div>

                <!--TRANG TEST-->

                <!-- State 2: Analyzing -->
                <div id="analyzing-state" class="scanner-state">
                    <div class="analyzing-icon">
                        <div class="loader"></div>
                    </div>
                    <h3>Analyzing...</h3>
                    <span class="filename" id="analyzing-filename">demo_file.exe</span>
                </div>

                <!-- State 3: Result -->
                <div id="result-state" class="scanner-state">
                    <i class="result-icon" id="result-icon"></i>
                    <h2 id="result-text"></h2>
                    <div class="filename" id="result-filename"></div>
                    <p id="result-details"></p>
                    <button class="btn btn-secondary" onclick="resetDemo()">Scan Another File</button>
                </div>
            </div>

            <!-- Analysis Details Panel (shows on result) -->
            <div class="analysis-details-container" id="analysis-details-wrapper">
                <div class="progress-header">
                    <h3>Malware Confidence</h3>
                    <span class="score-percentage" id="score-percentage">0%</span>
                </div>
                <div class="progress-bar-background">
                    <div class="progress-bar-fill" id="progress-bar-fill" style="width: 0%;"></div>
                </div>

                <div class="details-section">
                    <h4>Key Finding</h4>
                    <p id="details-reasoning">...</p>
                </div>

                <div class="details-section">
                    <h4>SHA256 Hash</h4>
                    <p class="hash-text" id="details-hash">...</p>
                </div>

                <div class="details-section">
                    <h4>What To Do Next</h4>
                    <p id="details-recommendation">...</p>
                </div>
                
                <div class="btn-wrapper">
                    <button class="btn btn-primary"><i class="fas fa-download"></i> Download Report</button>
                    <button class="btn btn-secondary"><i class="fas fa-flag"></i> Report False Positive</button>
                </div>
            </div>
        </div>

        <!-- Right Column (Stats / Disassembly) -->
        <div class="right-panel-wrapper">

            <!-- Stats Dashboard (shows by default) -->
            <div class="stats-wrapper" id="stats-wrapper">
                
                <!-- Stat Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-virus-slash"></i>
                        <div class="stat-content">
                            <span class="stat-number" data-target="14720938">0</span>
                            <span class="stat-label">Malware Analyzed</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <div class="stat-content">
                            <span class="stat-number" data-target="82041">0</span>
                            <span class="stat-label">Active Users</span> <!-- Corrected typo -->
                        </div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <div class="stat-content">
                            <span class="stat-number" data-target="1259024">0</span>
                            <span class="stat-label">Site Visits (24h)</span>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="chart-container-wrapper">
                    <div class="chart-container">
                        <h3>Top 5 Malware Families (30 Days)</h3>
                        <canvas id="topMalwareChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Submission Types</h3>
                        <canvas id="malwareTypesChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Disassembly Panel (shows on analysis) -->
            <div class="disassembly-wrapper" id="disassembly-wrapper">
                <div class="disassembly-header">
                    <h3>Disassembly: <span id="disassembly-filename"></span></h3>
                </div>
                <div class="disassembly-code" id="disassembly-code">
                    <!-- JS will populate this -->
                </div>
            </div>

        </div>

        <!-- Graph Panel (shows on result) -->
        <div class="graph-wrapper" id="graph-wrapper">
            <div class="graph-header">
                <h3>Function Call Graph</h3>
            </div>
            <div class="call-graph-container">
                <div class="call-graph" id="call-graph">
                    <!-- JS will populate this -->
                </div>
            </div>
        </div>
    </main> <!-- END of main-container -->
    
    <!-- History Panel & Overlay -->
    <div class="history-overlay" id="history-overlay"></div>
    <div class="history-panel" id="history-panel">
        <div class="history-header">
            <h3>Scan History</h3>
            <button class="history-close-btn" id="history-close-btn"><i class="fas fa-times"></i></button>
        </div>
        <ul class="history-list">
            <li>
                <div class="history-icon icon-malware"><i class="fas fa-bug"></i></div>
                <div class="history-details">
                    <span class="history-file">WannaCry.exe</span>
                    <span class="history-hash">b4a5b6c7d...f4a5</span>
                </div>
                <div class="history-meta">
                    <span class="history-verdict">Malware</span>
                    <span class="history-date">Oct 22, 2025</span>
                </div>
            </li>
            <li>
                <div class="history-icon icon-suspicious"><i class="fas fa-exclamation-triangle"></i></div>
                <div class="history-details">
                    <span class="history-file">patch_v2.exe</span>
                    <span class="history-hash">f1e2d3c4b...f1e2</span>
                </div>
                <div class="history-meta">
                    <span class="history-verdict">Suspicious</span>
                    <span class="history-date">Oct 21, 2025</span> <!-- Corrected typo -->
                </div>
            </li>
            <li>
                <div class="history-icon icon-safe"><i class="fas fa-check-circle"></i></div>
                <div class="history-details">
                    <span class="history-file">hello_world.exe</span>
                    <span class="history-hash">a1b2c3d4e...a1b2</span>
                </div>
                <div class="history-meta">
                    <span class="history-verdict">Safe</span>
                    <span class="history-date">Oct 20, 2025</span>
                </div>
            </li>
        </ul>
    </div>

    <!-- Scroll Zones -->
    <div class="scroll-zone top" id="scroll-zone-top"><i class="fas fa-chevron-up"></i></div>
    <div class="scroll-zone bottom" id="scroll-zone-bottom"><i class="fas fa-chevron-down"></i></div>

    <!-- JS Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/leader-line-new@1.1.9/leader-line.min.js"></script>
    <script src="script.js"></script>
</body>
</html>


